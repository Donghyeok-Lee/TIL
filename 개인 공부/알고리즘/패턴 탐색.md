# 패턴 탐색

> 본문에서 특정한 문자열을 찾는 것



## 1. 고지식한 패턴 검색 알고리즘(Brute Force)

> 본문 문자열을 처음부터 끝까지 차례대로 순회하면서 패턴 내의 문자들을 일일이 비교
>
> 1. 비교할 패턴과 원본 모두 첫 문자열부터 시작
> 2. 일치하지 않을 경우 패턴 매칭 실패
> 3. 원본의 인덱스는 다음 시작점으로 이동, 패턴의 인덱스는 원점으로 돌아감

```python
p = 'is' # 찾을 패턴
t = 'This is a book~!' # 전체 텍스트
M = len(p) # 찾을 패턴의 길이
N = len(t) # 전체 텍스트의 길이

def BruteForce(p, t):
    i = 0 # t의 인덱스
    j = 0 # p의 인덱스
    while j < M and i < N:
        if t[i] != p[j]:
            i = i-j
            j = -1
        i += 1
        j += 1
    if j == M : return i-M # 검색 성공
    else: return -1 # 검색 실패
```



## 2. KMP 알고리즘

> 불일치가 발생한 앞 부분에 대해서는 다시 비교하지 않고 매칭을 수행
>
> 1. 패턴을 전처리하여 배열 next[M]을 구해서 잘못된 시작을 최소화함
>
>    next[M] : 불일치가 발생했을 경우 이동할 다음 위치
>
>
> (패턴의 각 위치에 대해 매칭에 실패했을 때 돌아갈 곳을 준비해 둠)



## 3. 보이어-무어 알고리즘

> 오른쪽에서 왼쪽으로 비교, 
>
> 패턴의 오른쪽 끝에 있는 문자가 불일치하고, 이 문자가 패턴 내에 존재하지 않는 경우
> 패턴의 길이 만큼 이동함
>
> 오른쪽 끝에 있는 문자가 불일치하고, 이 문자가 패턴 내에 존재할 경우
> 패턴에서 일치하는 문자를 찾아서 위치를 맞추어 줌

* 보이어-무어 알고리즘을 통한 패턴 탐색 예시

  `'a pattern matching algorithm'` 에서 `'rithm'`을 찾을 경우

  `rithm String`의 `skip`배열

|  m   |  h   |  t   |  i   |  r   | 다른 모든 문자 |
| :--: | :--: | :--: | :--: | :--: | :------------: |
|  0   |  1   |  2   |  3   |  4   |       5        |

		1. 'a pat' 5문자 -> 마지막 문자열이 t이므로 2칸 점프

​		2. 'patte' 5문자 -> 마지막 문자열이 e이므로 5칸 점프
​		3. 'rn ma' 5문자 -> 마지막 문자열이 a이므로 5칸 점프
​		... 'rithm' 5문자 -> 마지막 문자열과 패턴이 일치, 내부 문자열들 비교



